name: systemd-service-management

topology:
  nodes:
    # Server 1 - Ubuntu with systemd
    server1:
      kind: linux
      image: ubuntu:22.04
      exec:
        - apt-get update -qq
        - apt-get install -y iproute2 iputils-ping systemd nginx
        - ip addr add 192.168.1.10/24 dev eth1

    # Server 2 - Ubuntu with systemd
    server2:
      kind: linux
      image: ubuntu:22.04
      exec:
        - apt-get update -qq
        - apt-get install -y iproute2 iputils-ping systemd apache2
        - ip addr add 192.168.1.20/24 dev eth1

  links:
    - endpoints: ["server1:eth1", "server2:eth1"]
